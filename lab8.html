<!DOCTYPE html>
<html lang="en-US">

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta charset="utf-8">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link href="style.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/cpp.min.js"></script>
  <script>hljs.highlightAll();</script>
  <title>EECS 348</title>
</head>

<body>
  <header>
    <h1>EECS 348 Labs</h1>
    <ul>
      <li><a href="index.html">Index</a></li>
      <hr>
      <li><a href="lab1.html">Lab 1&mdash;Git and GitHub</a></li>
      <li><a href="lab2.html">Lab 2&mdash;Regular expressions</a></li>
      <li><a href="lab3.html">Lab 3&mdash;Makefiles</a></li>
      <li><a href="lab4.html">Lab 4&mdash;Web programming</a></li>
      <li><a href="lab5.html">Lab 5&mdash;UML use cases</a></li>
      <li><a href="lab6.html">Lab 6&mdash;UML class diagrams</a></li>
      <li><a href="lab7.html">Lab 7&mdash;C programming</a></li>
      <li><a href="lab8.html">Lab 8&mdash;C++ programming</a></li>
    </ul>
  </header>
  <main>
    <h1>Lab 8 &mdash; C++ programming</h1>
    <p>
      <a href="https://github.com/hrhwilliams/EECS348_Lab-8-template">Template for Lab 8</a>. Programming in C++.
    </p>
    <h2>
      Classes in C++
    </h2>
    <p>
      Classes have their <em>declarations</em> in header files, given either a <code>.h</code> file extension or a
      <code>.hpp</code> file extension to show that it's specifically a C++ header file. You would lay out a class in a
      header file like,
      for example:
    </p>
    <pre><code class="language-cpp">// myclass.hpp
#ifndef __MY_CLASS_HPP__
#define __MY_CLASS_HPP__

class MyClass {

// everything that follows `public` is callable or usable outside the class
public:

    // default constructor (initializes class with no parameters)
    MyClass();
    
    // constructor that takes an argument
    MyClass(int x);

    // destructor (prefixed with a `~`). destructors never take
    // parameters
    ~MyClass();

    // public member functions go here
    void my_function();

    // const means member variables of the class are unmodified
    // by this function call
    void my_const_function() const;

// everything that follows `private` is called or used only within the class:
private:

    // private member functions and member variables go here.
    void my_private_function();

    // best practice is to prefix variables with something to show
    // that they come from the class definition when used in
    // functions
    int _x;
};

#endif // __MY_CLASS_HPP__</code></pre>
    <p>
      My best practice for ordering declarations in classes is: constructors at the top, public member functions,
      private member functions, public member variables (ideally you don't have any), private member variables. There is
      no enforcement of this by the compiler, but it's ordered by what I care about most to least when reading the code
      for a class. No matter how you choose to organize things, a lot of coding is just about picking <em>some</em>
      standard and sticking to it; this keeps readers from getting surprised when they get used to the way you organize
      things in one file, just to find everything is completely different elsewhere.
    </p>
    <p>
      Then in a separate source code file, you can write the <em>definitions</em> for each member function. C++ puts
      every function declared in your class in a namespace (just like <code class="language-cpp">std::</code>), so you
      have to prefix each function with the name of your class like so:
    </p>
    <pre><code class="language-cpp">// myclass.cpp
#include "myclass.hpp"

// colon after parameter list of a constructor is a list of member
// variables and what to initialize them to
MyClass::MyClass() : _x(0) {

}

MyClass::MyClass(int x) : _x(x) {

}

MyClass::~MyClass() {
  // destructor
}

void MyClass::my_function() {
    int x = 5;
    _x += x; // modify the member variable `_x`
}

void MyClass::my_const_function() const {
    int x = 5;
    x += 5;  // modify a variable declared in the function.
             // fine because this has no effect on the class's
             // member variables
}

void MyClass::my_private_function() {
    // do something that outside users of my class shouldn't do
    // directly
}</code></pre>
  </main>
</body>

</html>